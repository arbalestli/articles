# Git 使用记录

本文是按照我自己的使用顺序来进行记录的。

有关Git的更详细全面准确的请访问[Git-scm](http://git-scm.com/book/zh)

Pro Git这本开源的电子书可以在[此处](http://git-scm.com/blog/2010/06/09/pro-git-zh.html)找到。

## 在当前目录初始化git

命令： `git init` 

功能：设置当前路径为git工作路径，并在当前路径下创建 `.git` 文件夹。 

## 向git的待提交区中添加文件（本地）

命令： `git add *`

功能：将当前路径下所有文件和文件夹、以及所有子文件夹中的文件和文件夹**的当前状态**，添加到git的待提交区，此时这些文件和文件夹的状态变为**Staged**。**注意**这里强调是**当前状态**，因此所有在执行add之后进行的修改，除非再次对该文件执行add操作，否则在commit时不会被提交。**也就是说，git commit只提交待提交区的更改**

## 从git中删除文件（同时删除本地文件/保留本地文件）

命令： `git rm filename`

功能：此操作会将本地文件，连同git中的文件一并删除。若要只删除git中的文件而保留本地文件，需要使用 `git rm --cached filename`

## 查看待提交的更新（本地）

命令： `git status`

功能：显示当前尚未提交到git库中的更改。

## 向git中提交更新（本地）

- 已经通过 `git add` 和 `git rm` 将新文件增加到待提交区

命令： `git commit -c ‘更新说明’`

功能：将所有在**执行add之前**的更新提交到git库中。更新说明中只包括命令中的文字部分。若要向更新说明中添加所有文件被更改的部分，则可添加 `-v`，自动向更新说明文件添加所有文件被更改的部分。 **注意**若本次更新为首次更新，且添加了大量的文件，则不建议使用 `-v`，因为有可能会向更新说明中添加上万行内容。

- 尚未通过 `git add` 和 `git rm` 将文件增加到待提交区

命令： `git commit -a -c ‘更新说明’`

功能：自动将当前路径以及所有子路径下增加、删除和修改的文件更新到git库中。

## 查看git库中更新历史记录

命令： `git log --oneline --decorate --color --graph`

功能：将git库中所有历史更新显示出来，每次更新显示一行，包括部分SHA-1、状态、更新说明。(zsh中缩写为 `glog` )

## 将本地更新推送到远程库

命令： `git push`

## 从远程库获取最新更新

命令： `git pull`

## 将不想提交到git的文件添加到git的忽略列表

方法： git本地路径下创建 `.gitignore` 文件，文件中存储不想被git管理的文件路径和文件名，可使用通配符。

例如：在ubuntu下，文本编辑器会自动创建一个 `文件名~` 的临时文件，可以在 `.gitignore` 中添加 `*.*~` 来过滤这类文件。

## 为什么git commit 不能提交我的代码

答：若git commit不能提交你的更改，则再执行那个 `git status` 并查看输出，是否所有的修改都在 `Changes not statged for commit` 下面，若是，则用 `git commit -a` 进行提交，这说明这些文件并未受到git的监控。

## clone 与 checkout 的区别

- `git clone` 不仅可以将远程源上的代码在本地重现，还可以将远程源的**完整历史记录**在本地重现。因此，只要某个源在某处有了一份clone后的版本，则即使该源受到不可逆的损害（如磁盘损坏或丢失），也可以通过他的clone的版本进行完整恢复。
- `git checkout`则仅能讲远程源上的代码文件保存到本地。
